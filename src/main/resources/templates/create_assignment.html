<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="fragments/head" :: head></head>
  <body class="bg-gray-200">
    <nav th:replace="fragments/nav :: nav"></nav>

    <main class="w-full">
      <div class="w-full lg:w-1/2 xl:w-2/3 h-auto mx-auto mt-10">
        <h1
          th:if="${individualList == null AND equipmentList == null}"
          class="text-center text-4xl font-black uppercase text-blue-700 mb-10"
        >
          seleccione tipo de asignacion
        </h1>

        <h1
          th:if="${individualList != null OR equipmentList != null}"
          class="text-center text-4xl font-black uppercase text-blue-700 mb-10"
        >
          Ingrese datos
        </h1>

        <div class="flex justify-center" th:if="${error} != null">
          <p
            class="absolute bg-red-600 rounded uppercase px-5 py-1 text-center text-white text-xl"
            th:text="${error}"
          ></p>
        </div>

        <form
          th:if="${individualList == null AND equipmentList == null}"
          class="w-full mx-auto rounded px-10 py-10 shadow-2xl mb-10 grid gap-6 justify-center items-center bg-slate-100"
          th:action="@{/assignment/register/individual}"
          method="GET"
        >
          <label for="dependencyName" class="font-bold"
            >Personal de:
            <select
              class="border-2 py-3 uppercase text-center text-gray-500 font-bold w-full"
              name="dependencyName"
              id="dependencyName"
              required
            >
              <option
                th:each="dependency : ${dependencyList}"
                th:value="${dependency.name}"
                th:text="${dependency.name}"
              />
            </select>
          </label>

          <input
            class="text-white font-bold py-2 px-4 bg-blue-700 rounded uppercase hover:bg-purple-500 cursor-pointer w-full"
            type="submit"
            value="Cargar"
          />
        </form>

        <form
          th:if="${individualList == null AND equipmentList == null}"
          class="w-full mx-auto rounded px-10 py-10 shadow-2xl mb-10 grid gap-6 justify-center items-center bg-slate-100"
          th:action="@{/assignment/register/equipment}"
          method="GET"
        >
          <label for="typeEquipment" class="font-bold"
            >Equipo
            <select
              class="border-2 py-3 uppercase text-center text-gray-500 font-bold w-full"
              name="typeEquipment"
              id="typeEquipment"
              required
            >
              <option value="BODYCAM">BODYCAM</option>
              <option value="ARTURO">ARTURO</option>
              <option value="POC">POC</option>
              <option value="MORPHO">MORPHO</option>
              <option value="MIFI">MIFI</option>
              <option value="GPS">GPS</option>
            </select>
          </label>

          <input
            class="text-white font-bold py-2 px-4 bg-blue-700 rounded uppercase hover:bg-purple-500 cursor-pointer w-full"
            type="submit"
            value="Cargar"
          />
        </form>

        <div th:if="${individualList != null OR equipmentList != null}">
          <form
            method="POST"
            th:action="@{/assignment/registered}"
            class="w-full mx-auto rounded px-10 py-10 shadow-2xl mb-10 grid gap-6"
          >
            <div
              class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 justify-center items-center mb-10"
            >
              <div th:if="${individualList != null}">
                <label for="individuals" class="font-bold block"
                  >Personal</label
                >
                <input
                  id="individuals"
                  list="individualList"
                  name="personalFile"
                  class="border-2 w-full py-2 px-3 rounded"
                  placeholder="Seleccione personal"
                  required
                />
                <datalist id="individualList">
                  <option
                    th:each="individual : ${individualList}"
                    th:value="${individual.personalFile}"
                    th:text="${individual.dependency.name + ' ' + individual.fullName}"
                  ></option>
                </datalist>
              </div>

              <div th:if="${equipmentList != null}">
                <label for="equipments" class="font-bold block">Equipos</label>
                <input
                  id="equipments"
                  list="equipmentList"
                  name="numberEquipment"
                  class="border-2 w-full py-2 px-3 rounded"
                  placeholder="Seleccione un equipo"
                  required
                />
                <datalist id="equipmentList">
                  <option
                    th:each="equipment : ${equipmentList}"
                    th:value="${equipment.number}"
                    th:text="${equipment.typeEquipment}"
                  ></option>
                </datalist>
              </div>

              <div th:if="${simList != null}">
                <label for="sims" class="font-bold block capitalize"
                  >Sims</label
                >
                <input
                  id="sims"
                  list="simList"
                  name="simNumber"
                  class="border-2 w-full py-2 px-3 rounded"
                  placeholder="Seleccione SIM"
                  required
                />
                <datalist id="simList">
                  <option
                    th:each="sim : ${simList}"
                    th:value="${sim.number}"
                    th:text="${sim.tradeMark + ' ' + sim.plan}"
                  ></option>
                </datalist>
              </div>

              <div>
                <label for="contactNumber" class="font-bold block capitalize"
                  >N° contacto</label
                >
                <input
                  class="border-2 w-full py-2 px-3 rounded"
                  id="contactNumber"
                  name="contactNumber"
                  type="text"
                  placeholder="Ingrese N° contacto"
                />
              </div>

              <div>
                <label for="comment" class="font-bold block capitalize"
                  >Detalle</label
                >
                <input
                  class="border-2 w-full py-2 px-3 rounded"
                  id="comment"
                  type="text"
                  name="comment"
                  placeholder="Ingrese detalle"
                />
              </div>
            </div>

            <input
              class="text-white font-bold py-3 px-5 bg-blue-700 rounded uppercase hover:bg-purple-500 block mx-auto"
              type="submit"
              value="Guardar"
            />
          </form>
        </div>
      </div>
    </main>
  </body>
</html>
